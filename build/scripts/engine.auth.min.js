var auth={reload:function(){location.reload()},deny:function(){$("input").prop("value","");$(".window").addClass("denied");setTimeout(function(){$(".denied").removeClass("denied")},300)},logout:function(){$.ajax({type:"POST",url:"build/handler/handle.auth.php",data:{action:"logout"},success:function(a){if(a=="quit"){auth.reload()}},async:false})},login:function(){var a=$("input").prop("value");auth.remember.check(a);$.ajax({type:"POST",url:"build/handler/handle.auth.php",data:{action:"login",keyword:a},success:function(b){if(b=="valid"){auth.reload()}else{auth.deny()}},async:false})},remember:{check:function(a){if($("[remember]").attr("remember")=="yes"){localStorage.sonar_remember=a;localStorage.sonar_today=Math.round((new Date()).getTime()/1000)}},toggle:function(){if($("[remember]").attr("remember")=="yes"){$("[remember]").attr("remember","no")}else{$("[remember]").attr("remember","yes")}},prefill:function(){if(localStorage.sonar_today<(Math.round((new Date()).getTime()/1000)-86400)){localStorage.removeItem("sonar_remember");localStorage.removeItem("sonar_today")}else{$("input").prop("value",localStorage.sonar_remember)}}}};